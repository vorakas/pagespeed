<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageSpeed Insights Monitor</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Side Navigation -->
    <nav class="side-nav">
        <div class="side-nav-header">
            <h2>Menu</h2>
        </div>
        <ul class="side-nav-list">
            <li><a href="/" class="side-nav-link active"><span class="nav-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg></span>Dashboard</a></li>
            <li><a href="/setup" class="side-nav-link"><span class="nav-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></span>Site/URL Setup</a></li>
            <li><a href="/test" class="side-nav-link"><span class="nav-icon"><svg viewBox="0 0 24 24"><polyline points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></span>Test URLs</a></li>
            <li><a href="/metrics" class="side-nav-link"><span class="nav-icon"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></span>Page Performance Metrics</a></li>
            <li><a href="/newrelic" class="side-nav-link"><span class="nav-icon"><svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg></span>New Relic Metrics</a></li>
            <li><a href="/iislogs" class="side-nav-link"><span class="nav-icon"><svg viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/><line x1="6" y1="6" x2="6.01" y2="6"/><line x1="6" y1="18" x2="6.01" y2="18"/></svg></span>IIS Logs</a></li>
            <li><a href="/ai-analysis" class="side-nav-link"><span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M12 2a4 4 0 0 1 4 4v1h1a3 3 0 0 1 3 3v1a3 3 0 0 1-3 3h-1v1a4 4 0 0 1-8 0v-1H7a3 3 0 0 1-3-3v-1a3 3 0 0 1 3-3h1V6a4 4 0 0 1 4-4z"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/><path d="M9.5 13a3.5 3.5 0 0 0 5 0"/></svg></span>AI Analysis</a></li>
        </ul>
    </nav>

    <!-- Main Content Area -->
    <div class="main-content">
        <header>
            <div class="header-content">
                <div class="header-text">
                    <h1>
                        <img src="{{ url_for('static', filename='images/DarkModeLogo.png') }}" alt="Lamps Plus" class="header-logo header-logo-dark">
                        <img src="{{ url_for('static', filename='images/LightModeLogo.png') }}" alt="Lamps Plus" class="header-logo header-logo-light">
                        PageSpeed Insights Monitor
                    </h1>
                    <p>Monitor and compare website performance over time</p>
                </div>
                <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()">
                    <span class="theme-icon">‚òÄÔ∏è</span>
                    <span class="theme-label">Light Mode</span>
                </button>
            </div>
        </header>

        <!-- Web Vitals Reference Section -->
        <section class="reference-section">
            <h2>üìñ Core Web Vitals Reference</h2>
            <p class="reference-description">Understanding metric thresholds based on Google's Web Vitals initiative</p>
            <table class="reference-table">
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Good</th>
                        <th>Needs Improvement</th>
                        <th>Poor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>FCP</strong> (First Contentful Paint)</td>
                        <td class="metric-good">[0, 1800ms]</td>
                        <td class="metric-needs-improvement">(1800ms, 3000ms]</td>
                        <td class="metric-poor">over 3000ms</td>
                    </tr>
                    <tr>
                        <td><strong>LCP</strong> (Largest Contentful Paint)</td>
                        <td class="metric-good">[0, 2500ms]</td>
                        <td class="metric-needs-improvement">(2500ms, 4000ms]</td>
                        <td class="metric-poor">over 4000ms</td>
                    </tr>
                    <tr>
                        <td><strong>CLS</strong> (Cumulative Layout Shift)</td>
                        <td class="metric-good">[0, 0.1]</td>
                        <td class="metric-needs-improvement">(0.1, 0.25]</td>
                        <td class="metric-poor">over 0.25</td>
                    </tr>
                    <tr>
                        <td><strong>INP</strong> (Interaction to Next Paint)</td>
                        <td class="metric-good">[0, 200ms]</td>
                        <td class="metric-needs-improvement">(200ms, 500ms]</td>
                        <td class="metric-poor">over 500ms</td>
                    </tr>
                    <tr>
                        <td><strong>TTFB</strong> (Time to First Byte)</td>
                        <td class="metric-good">[0, 800ms]</td>
                        <td class="metric-needs-improvement">(800ms, 1800ms]</td>
                        <td class="metric-poor">over 1800ms</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Lighthouse Categories Explanation -->
        <section class="explanation-section">
            <h2>üí° Understanding Lighthouse Scores</h2>
            <p class="reference-description">What each category measures (scores range from 0-100) ‚Ä¢ Powered by Google PageSpeed Insights API</p>
            
            <div class="explanation-grid">
                <div class="explanation-card">
                    <div class="explanation-header performance-header">
                        <span class="explanation-icon">‚ö°</span>
                        <h3>Performance</h3>
                    </div>
                    <p><strong>Measures:</strong> How quickly content loads and becomes interactive</p>
                    <ul>
                        <li><strong>Speed Metrics:</strong> First Contentful Paint, Largest Contentful Paint, Speed Index</li>
                        <li><strong>Interactivity:</strong> Time to Interactive, Total Blocking Time</li>
                        <li><strong>Visual Stability:</strong> Cumulative Layout Shift</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Faster sites improve user experience and engagement. Performance is a ranking factor for Google Search.</p>
                </div>

                <div class="explanation-card">
                    <div class="explanation-header accessibility-header">
                        <span class="explanation-icon">‚ôø</span>
                        <h3>Accessibility</h3>
                    </div>
                    <p><strong>Measures:</strong> How usable your site is for all users, including those with disabilities</p>
                    <ul>
                        <li><strong>Screen Readers:</strong> Proper ARIA labels, semantic HTML, image alt text</li>
                        <li><strong>Keyboard Navigation:</strong> Focus indicators, logical tab order</li>
                        <li><strong>Visual:</strong> Color contrast, text sizing, touch targets</li>
                        <li><strong>Forms:</strong> Proper labels, error identification</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Makes your site usable by everyone and is often a legal requirement (ADA, WCAG compliance).</p>
                </div>

                <div class="explanation-card">
                    <div class="explanation-header practices-header">
                        <span class="explanation-icon">‚úÖ</span>
                        <h3>Best Practices</h3>
                    </div>
                    <p><strong>Measures:</strong> Overall code quality and modern web development standards</p>
                    <ul>
                        <li><strong>Security:</strong> HTTPS usage, secure connections, no browser errors</li>
                        <li><strong>Modern APIs:</strong> Deprecated API usage, console errors</li>
                        <li><strong>Images:</strong> Proper aspect ratios, appropriate formats</li>
                        <li><strong>Trust & Safety:</strong> No vulnerable libraries, proper permissions</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Ensures your site follows web standards, is secure, and provides a reliable experience.</p>
                </div>

                <div class="explanation-card">
                    <div class="explanation-header seo-header">
                        <span class="explanation-icon">üîç</span>
                        <h3>SEO</h3>
                    </div>
                    <p><strong>Measures:</strong> How well search engines can crawl and index your site</p>
                    <ul>
                        <li><strong>Content:</strong> Page titles, meta descriptions, heading structure</li>
                        <li><strong>Crawlability:</strong> robots.txt, canonical URLs, mobile-friendliness</li>
                        <li><strong>Links:</strong> Descriptive link text, valid href attributes</li>
                        <li><strong>Structure:</strong> Valid HTML, proper status codes, structured data</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Better SEO means higher visibility in search results and more organic traffic.</p>
                </div>
            </div>
        </section>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
