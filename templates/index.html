<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageSpeed Insights Monitor</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Side Navigation -->
    <nav class="side-nav">
        <div class="side-nav-header">
            <h2>Menu</h2>
        </div>
        <ul class="side-nav-list">
            <li><a href="/setup" class="side-nav-link">Site/URL Setup</a></li>
            <li><a href="/test" class="side-nav-link">Test URLs</a></li>
            <li><a href="/metrics" class="side-nav-link">Page Performance Metrics</a></li>
            <li><a href="/newrelic" class="side-nav-link">New Relic Metrics</a></li>
            <li><a href="/iislogs" class="side-nav-link">IIS Logs</a></li>
        </ul>
    </nav>

    <!-- Main Content Area -->
    <div class="main-content">
        <header>
            <div class="header-content">
                <div class="header-text">
                    <h1>
                        <img src="{{ url_for('static', filename='images/DarkModeLogo.png') }}" alt="Lamps Plus" class="header-logo header-logo-dark">
                        <img src="{{ url_for('static', filename='images/LightModeLogo.png') }}" alt="Lamps Plus" class="header-logo header-logo-light">
                        PageSpeed Insights Monitor
                    </h1>
                    <p>Monitor and compare website performance over time</p>
                </div>
                <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()">
                    <span class="theme-icon">‚òÄÔ∏è</span>
                    <span class="theme-label">Light Mode</span>
                </button>
            </div>
        </header>

        <!-- Web Vitals Reference Section -->
        <section class="reference-section">
            <h2>üìñ Core Web Vitals Reference</h2>
            <p class="reference-description">Understanding metric thresholds based on Google's Web Vitals initiative</p>
            <table class="reference-table">
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Good</th>
                        <th>Needs Improvement</th>
                        <th>Poor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>FCP</strong> (First Contentful Paint)</td>
                        <td class="metric-good">[0, 1800ms]</td>
                        <td class="metric-needs-improvement">(1800ms, 3000ms]</td>
                        <td class="metric-poor">over 3000ms</td>
                    </tr>
                    <tr>
                        <td><strong>LCP</strong> (Largest Contentful Paint)</td>
                        <td class="metric-good">[0, 2500ms]</td>
                        <td class="metric-needs-improvement">(2500ms, 4000ms]</td>
                        <td class="metric-poor">over 4000ms</td>
                    </tr>
                    <tr>
                        <td><strong>CLS</strong> (Cumulative Layout Shift)</td>
                        <td class="metric-good">[0, 0.1]</td>
                        <td class="metric-needs-improvement">(0.1, 0.25]</td>
                        <td class="metric-poor">over 0.25</td>
                    </tr>
                    <tr>
                        <td><strong>INP</strong> (Interaction to Next Paint)</td>
                        <td class="metric-good">[0, 200ms]</td>
                        <td class="metric-needs-improvement">(200ms, 500ms]</td>
                        <td class="metric-poor">over 500ms</td>
                    </tr>
                    <tr>
                        <td><strong>TTFB</strong> (Time to First Byte)</td>
                        <td class="metric-good">[0, 800ms]</td>
                        <td class="metric-needs-improvement">(800ms, 1800ms]</td>
                        <td class="metric-poor">over 1800ms</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Lighthouse Categories Explanation -->
        <section class="explanation-section">
            <h2>üí° Understanding Lighthouse Scores</h2>
            <p class="reference-description">What each category measures (scores range from 0-100) ‚Ä¢ Powered by Google PageSpeed Insights API</p>
            
            <div class="explanation-grid">
                <div class="explanation-card">
                    <div class="explanation-header performance-header">
                        <span class="explanation-icon">‚ö°</span>
                        <h3>Performance</h3>
                    </div>
                    <p><strong>Measures:</strong> How quickly content loads and becomes interactive</p>
                    <ul>
                        <li><strong>Speed Metrics:</strong> First Contentful Paint, Largest Contentful Paint, Speed Index</li>
                        <li><strong>Interactivity:</strong> Time to Interactive, Total Blocking Time</li>
                        <li><strong>Visual Stability:</strong> Cumulative Layout Shift</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Faster sites improve user experience and engagement. Performance is a ranking factor for Google Search.</p>
                </div>

                <div class="explanation-card">
                    <div class="explanation-header accessibility-header">
                        <span class="explanation-icon">‚ôø</span>
                        <h3>Accessibility</h3>
                    </div>
                    <p><strong>Measures:</strong> How usable your site is for all users, including those with disabilities</p>
                    <ul>
                        <li><strong>Screen Readers:</strong> Proper ARIA labels, semantic HTML, image alt text</li>
                        <li><strong>Keyboard Navigation:</strong> Focus indicators, logical tab order</li>
                        <li><strong>Visual:</strong> Color contrast, text sizing, touch targets</li>
                        <li><strong>Forms:</strong> Proper labels, error identification</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Makes your site usable by everyone and is often a legal requirement (ADA, WCAG compliance).</p>
                </div>

                <div class="explanation-card">
                    <div class="explanation-header practices-header">
                        <span class="explanation-icon">‚úÖ</span>
                        <h3>Best Practices</h3>
                    </div>
                    <p><strong>Measures:</strong> Overall code quality and modern web development standards</p>
                    <ul>
                        <li><strong>Security:</strong> HTTPS usage, secure connections, no browser errors</li>
                        <li><strong>Modern APIs:</strong> Deprecated API usage, console errors</li>
                        <li><strong>Images:</strong> Proper aspect ratios, appropriate formats</li>
                        <li><strong>Trust & Safety:</strong> No vulnerable libraries, proper permissions</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Ensures your site follows web standards, is secure, and provides a reliable experience.</p>
                </div>

                <div class="explanation-card">
                    <div class="explanation-header seo-header">
                        <span class="explanation-icon">üîç</span>
                        <h3>SEO</h3>
                    </div>
                    <p><strong>Measures:</strong> How well search engines can crawl and index your site</p>
                    <ul>
                        <li><strong>Content:</strong> Page titles, meta descriptions, heading structure</li>
                        <li><strong>Crawlability:</strong> robots.txt, canonical URLs, mobile-friendliness</li>
                        <li><strong>Links:</strong> Descriptive link text, valid href attributes</li>
                        <li><strong>Structure:</strong> Valid HTML, proper status codes, structured data</li>
                    </ul>
                    <p class="explanation-impact"><strong>Impact:</strong> Better SEO means higher visibility in search results and more organic traffic.</p>
                </div>
            </div>
        </section>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
